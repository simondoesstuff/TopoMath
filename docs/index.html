<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <script src="node_modules/jquery/dist/jquery.min.js"></script>
        <!-- <link rel"stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css"> -->
        <script src="node_modules/mathquill/build/mathquill.min.js"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"></script> -->
        <script>
            var MQ = MathQuill.getInterface(2);
        </script>

        <title>TopoMath</title>
    </head>
    <body>

<!--    Debug "Dom Log" Stuff       -->

        <div id="debugLog">
            <h3 id="latest"></h3>
            <p id="console"></p>
            <br>
        </div>

<!--    Math Quill Box      -->

        <p><span id="formula">f(x)</span></p>
        <h4 id="mqLatex"></h4>

        <script>
            (() => {
                let formulaEle = $('#formula')[0];
                let mqField = MQ.MathField(formulaEle);
                
                mqField.data.onEditHandlers = [
                    (newLatex) => $('#mqLatex').text(newLatex)
                ];

                mqField.config({
                    handlers: {
                        edit: () => {
                            for (const handler of mqField.data.onEditHandlers) {
                                var newLatex = mqField.latex(); // Get entered math in LaTeX format
                                handler(newLatex);
                            }
                        }
                    }
                })

                $('#mqLatex').text(mqField.latex())
            })();
        </script>

<!--    ThreeJS Canvas      -->

        <canvas id="bg"></canvas>

<!--    My Scripts     -->

        <script type="module" src="src/index.js"></script>
    </body>
</html>